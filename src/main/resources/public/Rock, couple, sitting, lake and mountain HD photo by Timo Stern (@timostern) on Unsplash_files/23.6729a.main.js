webpackJsonp([23],{1471:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1472);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1472:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){return a.default.createElement("div",{className:c.default.container},a.default.createElement("a",{href:"/"},a.default.createElement(l.default,{type:"logo",className:c.default.logo})),a.default.createElement("p",{className:c.default.text},"Make something awesome"))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=o(0),a=n(i),u=o(18),l=n(u),s=o(1473),c=n(s)},1473:function(e,t){e.exports={colorGrey:"#999","--sm":"(--sm)","--md-min":"(--md-min)",container:"_2WMKE",logo:"_1Ig-9",text:"_1cQDt"}},1474:function(e,t){e.exports={floatLeft:"_3YIV2",floatRight:"tPMQE","--sm-min":"(--sm-min)",colorLightGrey:"#ddd",container:"y5w1y",photo:"cV68d",photoInfo:"hduMF",leftActions:"_31wG7 _3YIV2",rightActions:"_287Ma tPMQE",user:"_114MZ",collectionButtonContainer:"_1XDiz",userLink:"_3isoq",userImageContainer:"_8p1N4 _3YIV2",userAvatar:"_1fYZF",userName:"_1imKo _3YIV2",userTopLink:"_1f9xN"}},1480:function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FeedContainer=void 0;var l=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(0),c=r(s),f=o(5),d=o(12),p=n(d),h=o(1482),m=r(h),y={setContentWidth:s.PropTypes.func.isRequired,children:s.PropTypes.element.isRequired},_=t.FeedContainer=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),l(t,[{key:"componentDidMount",value:function(){this.setContentWidth(),window.addEventListener("resize",this.handleResize.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize.bind(this))}},{key:"setContentWidth",value:function(){var e=this.props.setContentWidth;this.elem&&e(this.elem.offsetWidth-24)}},{key:"handleResize",value:function(){this.setContentWidth()}},{key:"render",value:function(){var e=this,t=this.props.children;return c.default.createElement("div",{className:m.default.container,ref:function(t){e.elem=t}},t)}}]),t}(s.Component);_.propTypes=y;var b={setContentWidth:p.setContentWidth};t.default=(0,f.connect)(null,b)(_)},1481:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1480);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1482:function(e,t){e.exports={container:"Nqw-T _22ZDn dvlCB"}},1497:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TEST_ATTRIBUTE="photo-component"},1498:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Photo=void 0;var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(0),s=n(l),c=o(188),f=n(c),d=o(495),p=n(d),h=o(493),m=n(h),y=o(494),_=n(y),b=o(1500),v=n(b),P=o(1474),T=n(P),g=o(1497),E={location:l.PropTypes.object.isRequired,photo:l.PropTypes.object.isRequired,position:l.PropTypes.number.isRequired},w=t.Photo=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"renderLikeButton",value:function(){var e=this.props,t=e.location,o=e.photo;return s.default.createElement(p.default,{photo:o,location:t})}},{key:"renderAddToCollectionButton",value:function(){var e=this.props,t=e.location,o=e.photo;return s.default.createElement("div",{className:T.default.collectionButtonContainer},s.default.createElement(m.default,{photo:o,location:t}))}},{key:"renderleftActions",value:function(){return s.default.createElement("div",{className:T.default.leftActions},this.renderLikeButton(),this.renderAddToCollectionButton())}},{key:"renderRightActions",value:function(){var e=this.props.photo;return s.default.createElement("div",{className:T.default.rightActions},s.default.createElement(_.default,{photo:e,showLabel:!0}))}},{key:"renderUser",value:function(){var e=this.props.photo.user;return s.default.createElement("div",{className:T.default.user},s.default.createElement(f.default,{includeAvatar:!0,user:e}))}},{key:"renderPhotoInfo",value:function(){return s.default.createElement("div",{className:T.default.photoInfo},this.renderleftActions(),this.renderUser(),this.renderRightActions())}},{key:"renderTopUserLink",value:function(){var e=this.props.photo.user;return s.default.createElement("div",{className:T.default.userTopLink},s.default.createElement(f.default,{includeAvatar:!0,user:e}))}},{key:"render",value:function(){var e=this.props,t=e.location,o=e.photo,n=e.position;return s.default.createElement("div",{className:T.default.container,"data-test":g.TEST_ATTRIBUTE},this.renderTopUserLink(),s.default.createElement(v.default,{location:t,position:n,photo:o}),this.renderPhotoInfo())}}]),t}(l.Component);w.displayName="Photo",w.propTypes=E,t.default=w},1499:function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoImage=void 0;var l=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(0),c=r(s),f=o(24),d=r(f),p=o(5),h=o(12),m=n(h),y=o(53),_=o(497),b=o(67),v=o(95),P=o(2),T=o(30),g=o(1511),E=o(1474),w=r(E),O={location:s.PropTypes.object.isRequired,photo:s.PropTypes.object.isRequired,windowWidth:s.PropTypes.number,contentWidth:s.PropTypes.number,pixelRatio:s.PropTypes.number.isRequired,setSelectedPhoto:s.PropTypes.func.isRequired,isNewPhotosPageXp:s.PropTypes.bool.isRequired},j=t.PhotoImage=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,o=t.photo,n=t.photo.user,r=t.pixelRatio,i=t.location,a=t.setSelectedPhoto,u=t.windowWidth,l=t.contentWidth,s=t.isNewPhotosPageXp,f=(0,P.checkIsPhone)(u)?u:l,p=(0,T.getImageSizeAndImgixUrl)({photo:o,parentWidth:f,pixelRatio:r}),h=p.imageUrl,m=p.imageWidth,y=p.imageHeight;return c.default.createElement(d.default,{ref:function(t){e.elem=t},href:(0,P.nodeUrl)()+"/photos/"+o.id,to:(0,P.buildPhotoLink)(o,i,u,{isNewPhotosPageXp:s}),title:"View the photo By "+n.name,onClick:function(){return a({id:o.id,ref:e.elem})}},c.default.createElement("img",{alt:o.description||null,src:h,className:w.default.photo,style:{width:m,height:y}}))}}]),t}(s.Component);j.displayName="PhotoImage",j.propTypes=O;var k=function(e){return{pixelRatio:(0,y.getPixelRatio)(e),windowWidth:(0,b.getWindowWidth)(e),contentWidth:(0,_.getContentWidth)(e),isNewPhotosPageXp:(0,v.getIsNewPhotosPageXp)(e)}},S={setSelectedPhoto:m.setSelectedPhoto};t.default=(0,g.reportPhotoImpressions)((0,p.connect)(k,S)(j))},1500:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1499);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1501:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1498);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1502:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TEST_ATTRIBUTE="photos-list-view"},1503:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(0),i=n(r),a=o(1501),u=n(a),l=o(1505),s=n(l),c=o(1502),f={location:r.PropTypes.object.isRequired,photos:r.PropTypes.array},d=function(e){var t=e.location,o=e.photos;return i.default.createElement("div",{id:"gridSingle",className:s.default.container,"data-test":c.TEST_ATTRIBUTE},o.map(function(e,o){return i.default.createElement(u.default,{key:e.id,photo:e,position:o,location:t})}))};d.displayName="PhotosListView",d.propTypes=f,t.default=d},1504:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1503);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1505:function(e,t){e.exports={"--xs-max":"(--xs-max)",container:"_1I8cs"}},1617:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(0),i=n(r),a=o(1640),u=n(a),l={type:r.PropTypes.oneOf(["photos","collections","users","photo-likes","collection-photos"]).isRequired},s=function(e){var t=e.type;return i.default.createElement("div",{className:u.default.emptyStateContainer},i.default.createElement("img",{alt:"No content available",className:u.default.emptyStateImg,src:"/a/img/empty-states/"+t+".png"}))};s.displayName="EmptyState",s.propTypes=l,t.default=s},1618:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1617);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1640:function(e,t){e.exports={emptyStateContainer:"_1SdCr",emptyStateImg:"_3AIC0",emptyStateDesc:"_4zmjf",cta:"_2d_9Y"}},1896:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TEST_ATTRIBUTE="search-photos-route"},1897:function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SearchPhotos=void 0;var l=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(0),c=r(s),f=o(5),d=o(24),p=r(d),h=o(23),m=r(h),y=o(503),_=r(y),b=o(19);o(186),o(285),o(187),o(491);var v=o(12),P=n(v),T=o(26),g=r(T),E=o(95),w=o(2),O=o(66),j=o(67),k=o(196),S=o(194),R=o(1481),M=r(R),C=o(1517),N=r(C),x=o(1504),I=r(x),A=o(1471),W=r(A),q=o(284),B=r(q),L=o(1618),U=r(L),F=o(531),D=r(F),V=o(2034),z=r(V),X=o(1896),G=3,Y=(0,O.normalizeResponse)("searchPhotos"),H={search:s.PropTypes.object.isRequired,location:s.PropTypes.object,updateData:s.PropTypes.func.isRequired,addPhotosToSearchPhotoFeed:s.PropTypes.func.isRequired,searchXps:s.PropTypes.object.isRequired,isPhone:s.PropTypes.bool},Q=t.SearchPhotos=function(e){function t(e){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.fetchPhotos=o.fetchPhotos.bind(o),o}return u(t,e),l(t,[{key:"componentDidMount",value:function(){this.addScrollSubscription()}},{key:"componentWillReceiveProps",value:function(e){e.search.query!==this.props.search.query&&(this.removeScrollSubscription(),this.addScrollSubscription())}},{key:"componentWillUnmount",value:function(){this.removeScrollSubscription()}},{key:"addScrollSubscription",value:function(){var e=this,t=b.Observable.fromEvent(window,"scroll").filter(function(){return(0,w.shouldFetchMoreContent)()}).map(function(){return e.props.search.photos.lastPageFetched}).distinct();this.scrollSubscription=t.subscribe(this.fetchPhotos)}},{key:"fetchPhotos",value:function(){var e=this.props,t=e.search,o=e.searchXps,n=e.updateData,r=e.addPhotosToSearchPhotoFeed,i=t.photos,a=i.maxPage,u=i.lastPageFetched;if(u<a){var l=u+1;g.default.custom.search.photos(t.query,l,S.SEARCH_PER_PAGE,o).then(T.toJson).then(T.throwErrorsIfPresent).then(Y).then(function(e){var t=e.entities,o=e.result;n(t),r({lastPageFetched:l,photoIds:o.results})})}}},{key:"removeScrollSubscription",value:function(){this.scrollSubscription.unsubscribe(),this.fetchSubscription&&this.fetchSubscription.unsubscribe()}},{key:"renderCollectionResults",value:function(){var e=this.props.search,t=e.query,o=e.collections.results,n="/search/collections/"+t;return 0===o.length?c.default.createElement("div",null):c.default.createElement("div",{className:z.default.clearfix},c.default.createElement("div",{className:z.default.collectionResults},(0,_.default)(o,G).map(function(e){return c.default.createElement("div",{key:e.id,className:z.default.collectionResultWrapper},c.default.createElement(D.default,{key:e.id,collection:e,height:80,width:280,href:(0,m.default)(e,"links.html")}))}),c.default.createElement("div",{className:z.default.collectionsViewAllLinkContainer},c.default.createElement(p.default,{className:z.default.collectionsViewAllLink,to:{pathname:n}},"View all collections"))))}},{key:"render",value:function(){var e=this.props,t=e.search,o=t.photos,n=o.total,r=o.results,i=o.maxPage,a=o.lastPageFetched,u=o.isLoading,l=t.collections,s=e.isPhone,f=e.location;return 0!==n||u?c.default.createElement(M.default,null,c.default.createElement("div",{"data-test":X.TEST_ATTRIBUTE},!l.isLoading&&this.renderCollectionResults(),s?c.default.createElement(I.default,{photos:r,location:f}):c.default.createElement(N.default,{photos:r,location:f}),a<i&&c.default.createElement(B.default,null),c.default.createElement(W.default,null))):c.default.createElement(U.default,{type:"photos"})}}]),t}(s.Component);Q.displayName="SearchPhotos",Q.propTypes=H;var Z=function(e){return{search:(0,k.getDenormalizedSearch)(e),isPhone:(0,j.getIsPhone)(e),searchXps:(0,E.getAllSearchXps)(e)}},K={updateData:P.updateData,addPhotosToSearchPhotoFeed:P.addPhotosToSearchPhotoFeed};t.default=(0,f.connect)(Z,K)(Q)},1898:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1897);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},2034:function(e,t){e.exports={container:"_2vSHF _22ZDn dvlCB",clearfix:"_2Rkdl _1iK9o","sm-col":"_13jTO","sm-col-6":"_3kobr","sm-col-12":"CTQC5","md-col-3":"TBNoB","md-col-6":"_30lHv",mxn2:"_3vG8-",px2:"_1vc38","--sm-min":"(--sm-min)",hiddenPhone:"_3ofrt",colorLightGrey:"#ddd",colorGrey:"#999",colorWhite:"#fff",colorLightBlack:"#111",textAlignCenter:"_2PbEl",textTransformUppercase:"_1WCyJ",textDecorationNone:"_21rCr",collectionsViewAllLinkContainer:"U_Yq8 _13jTO _3kobr TBNoB _1vc38",collectionsViewAllLink:"_2wvHW _21rCr _2PbEl",collectionResults:"_ZPQb _1iK9o _3vG8- _3ofrt",collectionResultWrapper:"_3V_BR _13jTO _3kobr TBNoB _1vc38"}}});
//# sourceMappingURL=23.6729a.main.js.map