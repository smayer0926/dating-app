webpackJsonp([1],{1442:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"404",getComponent:function(e,t){n.e(35).then(function(e){t(null,n(1771).default)}.bind(null,n)).catch(n.oe)}}},1443:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"500",getComponent:function(e,t){n.e(34).then(function(e){t(null,n(1773).default)}.bind(null,n)).catch(n.oe)}}},1444:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"about",getComponent:function(e,t){n.e(28).then(function(e){t(null,n(1778).default)}.bind(null,n)).catch(n.oe)}}},1445:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"activity-map",getComponent:function(e,t){n.e(5).then(function(e){t(null,n(1781).default)}.bind(null,n)).catch(n.oe)}}},1446:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"api-terms",getComponent:function(e,t){n.e(11).then(function(e){t(null,n(1786).default)}.bind(null,n)).catch(n.oe)}}},1447:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"collections",getIndexRoute:function(e,t){n.e(17).then(function(e){t(null,n(1798).default)}.bind(null,n)).catch(n.oe)},getChildRoutes:function(e,t){n.e(39).then(function(e){t(null,[n(1788).default,n(1795).default,n(1787).default])}.bind(null,n)).catch(n.oe)}}},1450:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"events",getComponent:function(e,t){n.e(33).then(function(e){t(null,n(1811).default)}.bind(null,n)).catch(n.oe)}}},1451:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"explore",getComponent:function(e,t){n.e(26).then(function(e){t(null,n(1814).default)}.bind(null,n)).catch(n.oe)}}},1452:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"following",getComponent:function(e,t){n.e(6).then(function(e){t(null,n(1821).default)}.bind(null,n)).catch(n.oe)}}},1453:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"hiring",getComponent:function(e,t){n.e(27).then(function(e){t(null,n(1829).default)}.bind(null,n)).catch(n.oe)}}},1454:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"history",getComponent:function(e,t){n.e(24).then(function(e){t(null,n(1838).default)}.bind(null,n)).catch(n.oe)}}},1456:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"license",getComponent:function(e,t){n.e(7).then(function(e){t(null,n(1846).default)}.bind(null,n)).catch(n.oe)}}},1457:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"login",getComponent:function(e,t){Promise.resolve().then(function(e){t(null,n(546).default)}.bind(null,n)).catch(n.oe)}}},1458:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"manifesto",getComponent:function(e,t){n.e(10).then(function(e){t(null,n(1849).default)}.bind(null,n)).catch(n.oe)}}},1459:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"mobile-search",getComponent:function(e,t){n.e(36).then(function(e){t(null,n(1852).default)}.bind(null,n)).catch(n.oe)}}},1460:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"new",getComponent:function(e,t){n.e(16).then(function(e){t(null,n(1856).default)}.bind(null,n)).catch(n.oe)}}},1461:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a);t.default={path:"photos/:id",getComponent:function(e,t){n.e(40).then(function(e){t(null,n(1858).default)}.bind(null,n)).catch(n.oe)},childRoutes:[{path:"*",name:"photos-info",component:function(){return r.default.createElement("div",null)}}],indexRoute:{component:function(){return r.default.createElement("div",null)}}}},1462:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1876),r=o(a);t.default={path:"photos-new/:id",component:r.default}},1463:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"privacy",getComponent:function(e,t){n.e(9).then(function(e){t(null,n(1879).default)}.bind(null,n)).catch(n.oe)}}},1464:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"stats",getComponent:function(e,t){n.e(32).then(function(e){t(null,n(1882).default)}.bind(null,n)).catch(n.oe)}}},1465:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),r=o(a),u=n(2),i=n(194),l=function(e){return!e.startsWith(i.SEARCH_USERS_PATH)&&!e.startsWith(i.SEARCH_COLLECTIONS_PATH)&&!e.startsWith(i.SEARCH_PHOTOS_PATH)};t.default={path:"search",getComponent:function(e,t){n.e(22).then(function(e){t(null,n(1886).default)}.bind(null,n)).catch(n.oe)},getChildRoutes:function(e,t){n.e(38).then(function(e){t(null,[n(1895).default,n(1903).default,n(1899).default])}.bind(null,n)).catch(n.oe)},onEnter:function(e,t,n){var o=(0,r.default)(e,"params.query"),a=e.location.pathname;if(!o)return t({pathname:"/",state:{status:301}}),void n();l(a)&&t({pathname:(0,u.buildSearchUrl)(o),state:{status:301}}),n()}}},1466:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"terms",getComponent:function(e,t){n.e(8).then(function(e){t(null,n(1906).default)}.bind(null,n)).catch(n.oe)}}},1467:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"trends",getComponent:function(e,t){n.e(29).then(function(e){t(null,n(1909).default)}.bind(null,n)).catch(n.oe)}}},1468:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"@:username",getComponent:function(e,t){n.e(25).then(function(e){t(null,n(1912).default)}.bind(null,n)).catch(n.oe)},getIndexRoute:function(e,t){n.e(12).then(function(e){t(null,n(1921).default)}.bind(null,n)).catch(n.oe)},getChildRoutes:function(e,t){n.e(37).then(function(e){t(null,[n(1918).default,n(1915).default,n(1930).default])}.bind(null,n)).catch(n.oe)}}},1469:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"wallpaper",getIndexRoute:function(e,t){n.e(20).then(function(e){t(null,n(1934).default)}.bind(null,n)).catch(n.oe)},getChildRoutes:function(e,t){n.e(41).then(function(e){t(null,[n(1931).default])}.bind(null,n)).catch(n.oe)}}},1511:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.reportPhotoImpressions=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(0),s=a(c),d=n(5),f=n(1647),p=a(f),h=n(2),m=n(12),v=o(m),y=.5;t.reportPhotoImpressions=function(e){var t={photo:c.PropTypes.object.isRequired,position:c.PropTypes.number.isRequired,reportPhotoImpression:c.PropTypes.func.isRequired},n=function(t){function n(){return r(this,n),u(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),l(n,[{key:"reportImpression",value:function(e){if(e){var t=this.props,n=t.photo,o=t.position;(0,t.reportPhotoImpression)({photo:{id:n.id,position:o}})}}},{key:"render",value:function(){var t=s.default.createElement(e,Object.assign({},this.props));return h.isBrowser&&(0,h.checkSupportsIntersectionObservers)()?s.default.createElement(p.default,{onChange:this.reportImpression.bind(this),threshold:y},t):t}}]),n}(c.Component);n.displayName="WrappedReportPhotoImpressionsComponent",n.propTypes=t;var o={reportPhotoImpression:v.reportPhotoImpression};return(0,d.connect)(null,o)(n)}},1517:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1626);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(a).default}})},1598:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1630);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(a).default}})},1611:function(e,t,n){"use strict";function o(e){var t=e.downloadButtonXp,n=e.inFollowingFeed;return[u.VARIANTS.showArrow,u.VARIANTS.showBottomBar].includes(t)&&!n}function a(e){var t=l.safeLocalStorageHelpers.hasItem(i.HAS_DOWNLOADED_A_PHOTO),n=e.downloadButtonXp===u.VARIANTS.showArrow;return o(e)&&n&&!t}function r(e){var t=e.downloadButtonXp,n=e.inFollowingFeed;return t===u.VARIANTS.showWord&&!n}Object.defineProperty(t,"__esModule",{value:!0}),t.ActionsModes=t.ActionsStates=void 0,t.checkShouldShowDownloadButton=o,t.checkShouldShowTooltip=a,t.checkShouldShowLabel=r;var u=n(501),i=n(193),l=n(2),c=t.ActionsStates=void 0;!function(e){e.All="All",e.AddToCollectionButton="AddToCollectionButton",e.AddToCollectionButtonAndPhotographerInfo="AddToCollectionButtonAndPhotographerInfo",e.DownloadButton="DownloadButton"}(c||(t.ActionsStates=c={}));var s=t.ActionsModes=void 0;!function(e){e.All="All",e.CollectionsOnboarding="CollectionsOnboarding"}(s||(t.ActionsModes=s={}))},1625:function(e,t,n){"use strict";function o(e){var t=a.safeLocalStorageHelpers.hasItem(r.HAS_DOWNLOADED_A_PHOTO);return e===u.VARIANTS.showBottomBar&&!t}Object.defineProperty(t,"__esModule",{value:!0}),t.TEST_ATTRIBUTE=void 0,t.checkShouldShowDownloadBottomBar=o;var a=n(2),r=n(193),u=n(501);t.TEST_ATTRIBUTE="photos-grid-view"},1626:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{totalHeight:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,photos:arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]}}function c(e){var t=0,n=e[0];return e.forEach(function(e,o){e.totalHeight<n.totalHeight&&(t=o,n=e)}),t}function s(e){return Array.from({length:e}).map(function(){return l()})}Object.defineProperty(t,"__esModule",{value:!0}),t.Masonry=void 0;var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=n(0),p=a(f),h=n(5),m=n(3),v=a(m),y=n(12),_=o(y),b=n(67),g=n(95),P=n(501),w=n(2),O=n(1629),M=a(O),C=n(1625),T=n(1644),j=a(T),E={photos:f.PropTypes.array.isRequired,location:f.PropTypes.object.isRequired,smallPhotoProps:f.PropTypes.object,windowWidth:f.PropTypes.number,downloadButtonXp:f.PropTypes.oneOf(Object.keys(P.VARIANTS)).isRequired,showDownloadBottomBar:f.PropTypes.func.isRequired,hideDownloadBottomBar:f.PropTypes.func.isRequired,shouldUseContainerPadding:f.PropTypes.bool},S={shouldUseContainerPadding:!0},A=t.Masonry=function(e){function t(e){r(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={gridCount:(0,w.isPhoneOrTablet)(e.windowWidth)?2:3},n.renderGrid=n.renderGrid.bind(n),n}return i(t,e),d(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.downloadButtonXp,n=e.showDownloadBottomBar;(0,C.checkShouldShowDownloadBottomBar)(t)&&n()}},{key:"componentWillUpdate",value:function(e){var t=this.props.windowWidth;e.windowWidth!==t&&((0,w.isPhoneOrTablet)(e.windowWidth)?this.setState({gridCount:2}):this.setState({gridCount:3}))}},{key:"componentWillUnmount",value:function(){this.props.hideDownloadBottomBar()}},{key:"getGridData",value:function(e){var t=this.props.photos,n=s(e);return t.forEach(function(e){var t=n[c(n)];e.height&&e.width&&(t.totalHeight+=e.height/e.width,t.photos.push(e))}),n.map(function(e){return e.photos})}},{key:"renderGrid",value:function(e,t){var n=this.props,o=n.location,a=n.photos,r=n.smallPhotoProps,u=this.state.gridCount;return p.default.createElement("div",{key:t,ref:"MasonryGrid"+t,className:(0,v.default)(j.default.Grid,3===u&&j.default.GridThree,2===u&&j.default.GridTwo,1===u&&j.default.GridOne)},e.map(function(e,t){var n=a.indexOf(e);return p.default.createElement(M.default,{smallPhotoProps:r,gridCount:u,photo:e,position:n,key:t,location:o})}))}},{key:"render",value:function(){var e=this.state.gridCount,t=this.props.shouldUseContainerPadding,n=this.getGridData(e).map(this.renderGrid);return p.default.createElement("div",{id:"gridMulti",className:(0,v.default)(j.default.container,t&&j.default.containerWithPadding),"data-test":C.TEST_ATTRIBUTE},n)}}]),t}(f.Component);A.displayName="Masonry",A.propTypes=E,A.defaultProps=S;var k=function(e){return{windowWidth:(0,b.getWindowWidth)(e),downloadButtonXp:(0,g.getDownloadButtonXp)(e)}},I={showDownloadBottomBar:_.showDownloadBottomBar,hideDownloadBottomBar:_.hideDownloadBottomBar};t.default=(0,h.connect)(k,I)(A)},1627:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TEST_ATTRIBUTE="photo-component"},1628:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),u=n(5),i=n(53),l=n(497),c=n(30),s=n(1598),d=o(s),f=n(1511),p=n(1627),h=n(1645),m=o(h),v={location:a.PropTypes.object.isRequired,smallPhotoProps:a.PropTypes.object,contentWidth:a.PropTypes.number,pixelRatio:a.PropTypes.number.isRequired,photo:a.PropTypes.object.isRequired,gridCount:a.PropTypes.number.isRequired},y=function(e){var t=e.smallPhotoProps,n=e.gridCount,o=e.location,a=e.contentWidth,u=e.pixelRatio,i=e.photo,l=16,s=Math.ceil(a/n-2*l),f=(0,c.getImageSizeAndImgixUrl)({photo:i,isMasonry:!0,parentWidth:s,pixelRatio:u}),h=f.imageUrl,v=f.imageWidth,y=f.imageHeight;return r.default.createElement("div",{className:m.default.photoContainer,"data-test":p.TEST_ATTRIBUTE},r.default.createElement(d.default,Object.assign({fillWidth:!0,showPhotoInfoOnHover:!0,width:v,height:y,imageUrl:h,photo:i,location:o},t)))};y.displayName="MasonryPhoto",y.propTypes=v;var _=function(e){return{contentWidth:(0,l.getContentWidth)(e),pixelRatio:(0,i.getPixelRatio)(e)}};t.default=(0,f.reportPhotoImpressions)((0,u.connect)(_)(y))},1629:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1628);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(a).default}})},1630:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SmallPhoto=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(0),s=a(c),d=n(5),f=n(3),p=a(f),h=n(24),m=a(h),v=n(143),y=a(v),_=n(12),b=o(_),g=n(2),P=n(299),w=n(67),O=n(95),M=n(188),C=a(M),T=n(495),j=a(T),E=n(494),S=a(E),A=n(493),k=a(A),I=n(1646),B=a(I),R=n(1611),N={inFollowingFeed:!1,shouldIncludeLink:!0,actionsMode:R.ActionsModes.All},D=t.SmallPhoto=function(e){function t(e){r(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseMove=n.handleMouseMove.bind(n),n.handleMouseLeave=n.handleMouseLeave.bind(n),n.state={isHovering:!1},n}return i(t,e),l(t,[{key:"getActionsState",value:function(){var e=this.state.isHovering,t=this.props,n=t.actionsMode,o=t.jsLoaded,a=t.downloadButtonXp,r=t.inFollowingFeed,u=(0,R.checkShouldShowDownloadButton)({downloadButtonXp:a,inFollowingFeed:r});switch(n){case R.ActionsModes.CollectionsOnboarding:return e||!o?R.ActionsStates.AddToCollectionButtonAndPhotographerInfo:R.ActionsStates.AddToCollectionButton;case R.ActionsModes.All:return e||!o?R.ActionsStates.All:u&&!e?R.ActionsStates.DownloadButton:void 0}}},{key:"handleMouseMove",value:function(){this.setState({isHovering:!0})}},{key:"handleMouseLeave",value:function(){this.setState({isHovering:!1})}},{key:"renderPhotoInfo",value:function(){var e=this,t=this.props,n=t.photo,o=t.linkTo,a=t.setSelectedPhoto,r=t.windowWidth,u=t.location,i=t.showPhotoInfoOnHover,l=t.shouldIncludeLink,c=t.isNewPhotosPageXp,d=!(0,g.checkIsPhone)(r);return s.default.createElement("div",{className:(0,p.default)(B.default.photoInfo,void 0!==this.getActionsState()&&B.default.photoInfoIsShown),onMouseMove:d&&this.handleMouseMove,onMouseLeave:d&&this.handleMouseLeave},l&&s.default.createElement(m.default,{title:"View the photo by "+n.user.name,to:o||(0,g.buildPhotoLink)(n,u,r,{isNewPhotosPageXp:c}),className:B.default.photoInfoLink,onClick:function(){return a({id:n.id,ref:e.linkElem})}}),i&&this.renderActions())}},{key:"renderLikeButton",value:function(){var e=this.props,t=e.location,n=e.photo;return s.default.createElement(j.default,{type:"alt",location:t,photo:n})}},{key:"renderAddToCollectionButton",value:function(){var e=this.props,t=e.location,n=e.photo;return s.default.createElement("div",{className:B.default.addToCollectionButtonContainer},s.default.createElement(k.default,{className:B.default.collectionButton,type:"alt",photo:n,location:t}))}},{key:"renderDownloadButton",value:function(){var e=this.props,t=e.photo,n=e.downloadButtonXp,o=e.inFollowingFeed,a=(0,R.checkShouldShowTooltip)({downloadButtonXp:n,inFollowingFeed:o}),r=(0,R.checkShouldShowLabel)({downloadButtonXp:n,inFollowingFeed:o});return s.default.createElement("div",{className:B.default.buttonDownloadContainer},s.default.createElement(S.default,{type:"alt",photo:t,showLabel:r,showTooltip:a}))}},{key:"renderUserLink",value:function(){var e=this.props.photo.user;return s.default.createElement("div",{className:B.default.userContainer},s.default.createElement(C.default,{includeAvatar:!0,user:e,type:"alt"}))}},{key:"renderTopActions",value:function(){switch(this.getActionsState()){case R.ActionsStates.AddToCollectionButton:case R.ActionsStates.AddToCollectionButtonAndPhotographerInfo:return s.default.createElement("div",{className:B.default.actionsTop},this.renderAddToCollectionButton());case R.ActionsStates.All:return s.default.createElement("div",{className:B.default.actionsTop},this.renderLikeButton(),this.renderAddToCollectionButton());case R.ActionsStates.DownloadButton:case void 0:return}}},{key:"renderBottomActions",value:function(){switch(this.getActionsState()){case R.ActionsStates.All:return s.default.createElement("div",{className:B.default.actionsBottom},this.renderUserLink(),this.renderDownloadButton());case R.ActionsStates.AddToCollectionButtonAndPhotographerInfo:return s.default.createElement("div",{className:B.default.actionsBottom},this.renderUserLink());case R.ActionsStates.DownloadButton:return s.default.createElement("div",{className:B.default.actionsBottom},this.renderDownloadButton());case R.ActionsStates.AddToCollectionButton:case void 0:return}}},{key:"renderActions",value:function(){return void 0!==this.getActionsState()?s.default.createElement("div",null,this.renderTopActions(),this.renderBottomActions()):null}},{key:"renderImage",value:function(){var e=this,t=this.props,n=t.photo,o=t.width,a=t.height,r=t.imageUrl,u=t.fillWidth,i=t.children,l=t.followingFeedClassName,c=t.inFollowingFeed,d=t.photoRef,f={backgroundImage:(0,g.urlToBackgroundImage)(r),backgroundColor:n.color,backgroundSize:"cover",width:u?"100%":o,height:a};return s.default.createElement("div",{style:c?f:{},className:c&&(0,p.default)(B.default.photo,l),ref:function(t){(0,y.default)(d)&&d(t),e.linkElem=t}},!c&&s.default.createElement("img",{alt:n.description||null,src:r,className:B.default.imgPhoto,style:{width:u?"100%":o,height:a}}),i)}},{key:"render",value:function(){var e=this.props.containerClassName;return s.default.createElement("div",{className:(0,p.default)(B.default.container,e)},this.renderImage(),this.renderPhotoInfo())}}]),t}(c.Component);D.displayName="SmallPhoto",D.defaultProps=N;var W=function(e,t){return{jsLoaded:(0,P.getJsLoaded)(e),windowWidth:(0,w.getWindowWidth)(e),downloadButtonXp:(0,O.getDownloadButtonXp)(e),isNewPhotosPageXp:(0,O.getIsNewPhotosPageXp)(e)}},x={setSelectedPhoto:b.setSelectedPhoto};t.default=(0,d.connect)(W,x)(D)},1644:function(e,t){e.exports={floatLeft:"_3YIV2","--sm-min":"(--sm-min)",clearfix:"_1VOuf",container:"_3_WtK _1VOuf",containerWithPadding:"_1C-lZ",Grid:"_1OvAL _3YIV2",GridThree:"_27nWV",GridTwo:"_1eGVY",GridOne:"_3nHtz"}},1645:function(e,t){e.exports={photoContainer:"_1pn7R"}},1646:function(e,t){e.exports={floatLeft:"_3YIV2",floatRight:"tPMQE","--sm-min":"(--sm-min)",colorPink:"#f15151",colorLightGrey:"#ddd",hoverTransition:"_2tPAp",container:"_3vgBX",photo:"_1hz5D",imgPhoto:"KW7g_ _1hz5D",photoInfo:"bQJ8Z",photoInfoIsShown:"_2j4gG",photoInfoLink:"_23lr1",actionsTop:"_2yfpM",actionsBottom:"_1a5YS",userContainer:"CpQi5 _3YIV2",buttonDownloadContainer:"_3i-Ef tPMQE",addToCollectionButtonContainer:"_3W6mQ"}},1647:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(0),s=(o(c),n(96)),d=o(s),f=n(1648),p=function(e){return"function"==typeof e},h=function(e){function t(){var e,n,o,a;r(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return n=o=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.state={inView:!1},o.node=null,o.handleNode=function(e){o.node&&(0,f.unobserve)(o.node),e&&(0,f.observe)(e,o.handleChange,o.props.threshold),o.node=e},o.handleChange=function(e){return o.setState({inView:e})},a=n,u(o,a)}return i(t,e),l(t,[{key:"componentWillUpdate",value:function(e,t){this.props.onChange&&t.inView!==this.state.inView&&(this.props.onChange(t.inView),t.inView&&e.unobserve)}},{key:"componentDidUpdate",value:function(e,t){t.inView!==this.state.inView&&this.state.inView&&this.props.triggerOnce&&((0,f.unobserve)(this.node),this.node=null)}},{key:"componentWillUnmount",value:function(){this.node&&((0,f.unobserve)(this.node),this.node=null)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.render,o=e.tag,r=(e.triggerOnce,e.threshold,a(e,["children","render","tag","triggerOnce","threshold"])),u=this.state.inView;return(0,c.createElement)(o,Object.assign({},r,{ref:this.handleNode}),u&&p(n)?n():null,p(t)?t(u):t)}}]),t}(c.Component);h.propTypes={tag:d.default.node,children:d.default.oneOfType([d.default.func,d.default.node]),triggerOnce:d.default.bool,threshold:d.default.number,onChange:d.default.func,render:d.default.func},h.defaultProps={tag:"div",threshold:0,triggerOnce:!1},t.default=h},1648:function(e,t,n){"use strict";function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e&&t){var o=i.get(n);o||(o=new IntersectionObserver(r,{threshold:n}),i.set(n,o)),u.set(e,{callback:t,visible:!1,threshold:n}),o.observe(e)}}function a(e){if(e){var t=u.get(e);if(t){u.delete(e);var n=i.get(t.threshold);n&&n.unobserve(e);var o=!1;u.forEach(function(e){e.threshold===t.threshold&&(o=!0)}),n&&!o&&(n.disconnect(),i.delete(t.threshold))}}}function r(e){e.forEach(function(e){if(u.has(e.target)){var t=e.isIntersecting,n=e.intersectionRatio,o=e.target,a=u.get(o),r=a.callback,i=a.visible,l=a.threshold,c=i?n>l:n>=l;void 0!==t&&(c=c&&t),u.set(o,{callback:r,visible:c,threshold:l}),r&&r(c)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.observe=o,t.unobserve=a;var u=new Map,i=new Map;t.default={observe:o,unobserve:a}},1651:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=t.RemoteDataTypes=void 0;!function(e){e.NotAsked="NotAsked",e.Loading="Loading",e.Failure="Failure",e.Success="Success"}(a||(t.RemoteDataTypes=a={}));t.NotAsked=function e(){o(this,e),this.type=a.NotAsked},t.Loading=function e(){o(this,e),this.type=a.Loading},t.Failure=function e(t){o(this,e),this.value=t,this.type=a.Failure},t.Success=function e(t){o(this,e),this.value=t,this.type=a.Success}},1654:function(e,t){e.exports={fontWeightNormal:"UDEGo",heading:"_3t64s UDEGo"}},1655:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.mapPhotoIdsToPhotos=void 0;var a=n(0),r=o(a),u=n(5),i=n(300),l=function(e){return e.displayName||e.name||"Component"};t.mapPhotoIdsToPhotos=function(e){var t="MapPhotoIdsToPhotos("+l(e)+")",n=function(t){var n=t.photos;return r.default.createElement(e,Object.assign({},t,{photos:n}))};n.displayName=t;var o=function(){var e=(0,i.makeGetDenormalizedPhotoByIds)();return function(t,n){return{photos:e(t,n.photoIds)}}};return(0,u.connect)(o)(n)}},1859:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),u=n(139),i=o(u),l=n(3),c=o(l),s=n(547),d=n(94),f=n(1651),p=n(284),h=o(p),m=n(1861),v=o(m),y=n(1863),_=o(y),b=n(1873),g=o(b),P=n(2025),w=o(P),O=function(e){var t=e.location,n=e.photo,o=e.isModal,a=e.photoRemoteData,u=function(){var e=(0,s.buildPhotoHeadTags)(n),a=e.title,u=e.meta,l=e.canonicalUrl;return r.default.createElement("div",{className:w.default.wrapper},r.default.createElement(i.default,{title:a,meta:u,link:(0,d.buildLinks)(l)}),r.default.createElement("div",null,r.default.createElement("div",{className:(0,c.default)(o&&w.default.stickyHeaderContainer)},r.default.createElement(v.default,{photo:n,location:t})),r.default.createElement(_.default,{photo:n})),r.default.createElement("div",{className:w.default.container},r.default.createElement(g.default,{photo:n,location:t})))},l=function(){return r.default.createElement("div",{className:w.default.spinnerWrapper},r.default.createElement(h.default,{padContentBelow:!1}))};if(null!==n)return u();switch(a.type){case f.RemoteDataTypes.Success:return u();case f.RemoteDataTypes.Loading:return l();case f.RemoteDataTypes.NotAsked:case f.RemoteDataTypes.Failure:return null}};t.default=O},1860:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),u=n(3),i=o(u),l=n(188),c=o(l),s=n(495),d=o(s),f=n(493),p=o(f),h=n(494),m=o(h),v=n(2026),y=o(v),_=function(e){var t=e.className,n=e.location,o=e.photo;return r.default.createElement("header",{className:(0,i.default)(t,y.default.container)},r.default.createElement("div",{className:y.default.photographer},r.default.createElement(c.default,{includeAvatar:!0,user:o.user,secondaryLink:{label:"@"+o.user.username,href:o.user.links.html},type:"emphasiseUsername"})),r.default.createElement("div",{className:y.default.actions},r.default.createElement("div",{className:y.default.cell},r.default.createElement(d.default,{photo:o,location:n})),r.default.createElement("div",{className:y.default.cell},r.default.createElement(p.default,{photo:o,location:n})),r.default.createElement("div",{className:y.default.cell},r.default.createElement(m.default,{photo:o,showLabel:!0,showTooltip:!1,type:"green",label:"Download free",className:y.default.downloadButton}))))};t.default=_},1861:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1860);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(a).default}})},1862:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),c=o(l),s=n(3),d=o(s),f=n(530),p=o(f),h=n(2027),m=o(h),v="500px",y="250px",_=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=n.getInitialState(),n.toggleCollapsed=n.toggleCollapsed.bind(n),n}return u(t,e),i(t,[{key:"getInitialState",value:function(){return{isCollapsed:!0}}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.photo;e.photo.id!==t.id&&this.setState(this.getInitialState)}},{key:"toggleCollapsed",value:function(){this.setState(function(e){return{isCollapsed:!e.isCollapsed}})}},{key:"render",value:function(){var e=this.props.photo,t=e.urls.raw,n=e.width,o=e.height,a=n/o,r=o/n,u="calc("+r+" * 100%)",i="calc(100vh - "+y+")",l="calc("+a+" * "+v+")",s="calc("+a+" * "+i+")";return c.default.createElement("div",{className:(0,d.default)(m.default.imageContainer,this.state.isCollapsed&&m.default.imageContainerCollapsed),style:this.state.isCollapsed?{minWidth:l,maxWidth:s}:{}},c.default.createElement(p.default,{className:m.default.imagePlaceholder,style:{paddingBottom:u},imgProps:{className:this.state.isCollapsed?m.default.imageCollapsed:m.default.imageExpanded,onClick:this.toggleCollapsed,src:t}}))}}]),t}(l.PureComponent);t.default=_},1863:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1862);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(a).default}})},1864:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),u=n(122),i=n(1654),l=o(i),c=n(1870),s=o(c),d=n(1866),f=o(d),p=n(1872),h=o(p),m=function(e){var t=e.photo,n=e.location,o=t.related_collections;return r.default.createElement("div",{className:l.default.container},r.default.createElement(s.default,{photoId:t.id,location:n}),(0,u.mapMaybe)(function(e){return r.default.createElement(f.default,{relatedCollections:e})},o),r.default.createElement(h.default,{allTags:t.tags}))};t.default=m},1865:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),u=n(490),i=o(u),l=n(1654),c=o(l),s=function(e){var t=e.relatedCollections;return 0===t.results.length?null:r.default.createElement("div",null,r.default.createElement("p",{className:c.default.heading},"Featured in "+t.total+" collections"),r.default.createElement("div",{className:c.default.cell},t.results.map(function(e,t){return r.default.createElement(i.default,{key:t,collection:e,columns:3})})))};s.displayName="RelatedCollections",t.default=s},1866:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1865);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(a).default}})},1867:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(0),s=a(c),d=n(5),f=n(1651),p=n(26),h=a(p),m=n(12),v=o(m),y=n(66),_=n(1869),b=a(_),g=function(e){return h.default.custom.getRelatedPhotos(e).then(p.toJson).then(p.throwErrorsIfPresent)},P=(0,y.normalizeResponse)("searchPhotos"),w=function(e){function t(){r(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state=e.getInitialState(),e.updatePhotoIds=e.updatePhotoIds.bind(e),e}return i(t,e),l(t,[{key:"getInitialState",value:function(){return{photoIds:new f.NotAsked}}},{key:"componentDidMount",value:function(){this.fetchThenCacheAndSet()}},{key:"componentDidUpdate",value:function(e){this.props.photoId!==e.photoId&&(this.reset(),this.fetchThenCacheAndSet())}},{key:"updatePhotoIds",value:function(e){this.setState({photoIds:e})}},{key:"reset",value:function(){this.setState(this.getInitialState())}},{key:"fetchThenCacheAndSet",value:function(){var e=this.props,t=e.updateData,n=e.photoId;this.updatePhotoIds(new f.Loading),g(n).then(function(e){var n=P(e);return t(n.entities),new f.Success(e.results.map(function(e){return e.id}))},function(e){return new f.Failure(e)}).then(this.updatePhotoIds)}},{key:"render",value:function(){var e=this.props.location,t=this.state.photoIds;return s.default.createElement(b.default,{photoIds:t,location:e})}}]),t}(c.PureComponent),O={updateData:v.updateData};t.default=(0,d.connect)(null,O)(w)},1868:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),u=n(1651),i=n(1655),l=n(1517),c=o(l),s=n(284),d=o(s),f=n(1654),p=o(f),h=(0,i.mapPhotoIdsToPhotos)(c.default),m=function(e){var t=e.photoIds,n=e.location,o=function(e){var t=e.bodyPhotoIds;return r.default.createElement("div",null,r.default.createElement("h2",{className:p.default.heading},"Related photos"),r.default.createElement("div",{className:p.default.cell},function(){switch(t.type){case u.RemoteDataTypes.Success:return r.default.createElement(h,{photoIds:t.value,location:n,shouldUseContainerPadding:!1});case u.RemoteDataTypes.Loading:return r.default.createElement(d.default,{padContentBelow:!1})}}()))};switch(t.type){case u.RemoteDataTypes.Loading:return o({bodyPhotoIds:t});case u.RemoteDataTypes.Success:return 0===t.value.length?null:o({bodyPhotoIds:t});case u.RemoteDataTypes.Failure:case u.RemoteDataTypes.NotAsked:return null}};t.default=m},1869:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1868);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(a).default}})},1870:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1867);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(a).default}})},1871:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.RelatedSearches=void 0;var a=n(0),r=o(a),u=n(5),i=n(503),l=o(i),c=n(53),s=n(2),d=n(504),f=o(d),p=n(1654),h=o(p),m=n(2028),v=o(m),y=t.RelatedSearches=function(e){var t=e.allTags,n=e.pixelRatio,o=(0,l.default)(t,4);return o.length<4?null:r.default.createElement("div",null,r.default.createElement("p",{className:h.default.heading},"Related tags"),r.default.createElement("div",{className:h.default.cell},r.default.createElement("div",{className:v.default.tagsContainer},o.map(function(e){return r.default.createElement(f.default,{key:e.title,title:e.title,backgroundImage:(0,s.buildMaxWidthImgixUrl)({url:e.url,width:String(450),pixelRatio:n})})}))))};y.displayName="RelatedSearches";var _=function(e,t){return{pixelRatio:(0,c.getPixelRatio)(e)}};t.default=(0,u.connect)(_)(y)},1872:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1871);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(a).default}})},1873:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1864);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(a).default}})},1874:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1859);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(a).default}})},1875:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(0),s=a(c),d=n(5),f=n(12),p=o(f),h=n(26),m=a(h),v=n(66),y=n(492),_=n(300),b=n(1651),g=n(1874),P=a(g),w=(0,v.normalizeResponse)("photo"),O=function(e){function t(){r(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state=e.getInitialState(),e.updatePhoto=e.updatePhoto.bind(e),e}return i(t,e),l(t,[{key:"getInitialState",value:function(){return{photoRemoteData:new b.NotAsked}}},{key:"componentDidMount",value:function(){this.fetchThenCache()}},{key:"componentDidUpdate",value:function(e){this.props.params.id!==e.params.id&&(this.reset(),this.fetchThenCache())}},{key:"updatePhoto",value:function(e){this.setState({photoRemoteData:e})}},{key:"reset",value:function(){this.setState(this.getInitialState())}},{key:"fetchThenCache",value:function(){var e=this.props,t=e.params,n=e.updateData,o=t.id,a=this.context.router.replace;this.updatePhoto(new b.Loading),m.default.custom.getPhotoWithInfo(o).then(h.toJson).then(h.throwErrorsIfPresent).then(function(e){var t=w(e),o=t.entities;return n(o),new b.Success({})}).then(this.updatePhoto).catch((0,y.handleClientSideError)(a))}},{key:"render",value:function(){var e=this.props,t=e.photo,n=e.isModal,o=e.location,a=this.state.photoRemoteData;return s.default.createElement(P.default,{photo:t,isModal:n,location:o,photoRemoteData:a})}}]),t}(c.PureComponent);O.contextTypes={router:c.PropTypes.object.isRequired};var M=function(){var e=(0,_.makeGetDenormalizedPhotoById)();return function(t,n){return{photo:e(t,n.params.id)}}},C={updateData:p.updateData};t.default=(0,d.connect)(M,C)(O)},1876:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1875);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(a).default}})},2025:function(e,t){e.exports={container:"A5mOq _22ZDn dvlCB",wrapper:"_2wane",stickyHeaderContainer:"_227t_",spinnerWrapper:"_1PLm2"}},2026:function(e,t){e.exports={container:"_2Z_E4",actions:"HNpSs",cell:"_2OJWi",photographer:"_1Ghef _2OJWi",downloadButton:"_3YlPI"}},2027:function(e,t){e.exports={center:"_1qEFh",imagePlaceholder:"_27h0s",imageContainer:"_1vO10 _1qEFh",imageContainerCollapsed:"_3vMrm",imageExpanded:"_1oEWv",imageCollapsed:"_1FvHu"}},2028:function(e,t){e.exports={clearfix:"_1iK9o",mxn2:"_3vG8-",tagsContainer:"_3uaZa _1iK9o _3vG8-"}}});
//# sourceMappingURL=1.6729a.main.js.map